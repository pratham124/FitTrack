import{r as f}from"./react-c08bfecb.js";import{d as H,N as P,u as I,a as j,b as N,c as U,R as W,D as z,e as K}from"./react-router-868cdf8a.js";import{c as M,b as G,E as X,s as Y,d as k,i as A,j as q}from"./@remix-run-5ed22f57.js";/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},y.apply(this,arguments)}function F(e,t){if(e==null)return{};var r={},o=Object.keys(e),n,i;for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&(r[n]=e[n]);return r}const E="get",L="application/x-www-form-urlencoded";function x(e){return e!=null&&typeof e.tagName=="string"}function J(e){return x(e)&&e.tagName.toLowerCase()==="button"}function Q(e){return x(e)&&e.tagName.toLowerCase()==="form"}function V(e){return x(e)&&e.tagName.toLowerCase()==="input"}function Z(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $(e,t){return e.button===0&&(!t||t==="_self")&&!Z(e)}function ee(e,t,r){let o,n,i,a;if(Q(e)){let l=r.submissionTrigger;o=r.method||e.getAttribute("method")||E,n=r.action||e.getAttribute("action")||t,i=r.encType||e.getAttribute("enctype")||L,a=new FormData(e),l&&l.name&&a.append(l.name,l.value)}else if(J(e)||V(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');o=r.method||e.getAttribute("formmethod")||l.getAttribute("method")||E,n=r.action||e.getAttribute("formaction")||l.getAttribute("action")||t,i=r.encType||e.getAttribute("formenctype")||l.getAttribute("enctype")||L,a=new FormData(l),e.name&&a.append(e.name,e.value)}else{if(x(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');if(o=r.method||E,n=r.action||t,i=r.encType||L,e instanceof FormData)a=e;else if(a=new FormData,e instanceof URLSearchParams)for(let[l,d]of e)a.append(l,d);else if(e!=null)for(let l of Object.keys(e))a.append(l,e[l])}let{protocol:c,host:u}=window.location;return{url:new URL(n,c+"//"+u),method:o.toLowerCase(),encType:i,formData:a}}const te=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],re=["aria-current","caseSensitive","className","end","style","to","children"],ne=["reloadDocument","replace","method","action","onSubmit","fetcherKey","routeId","relative","preventScrollReset"];function pe(e,t){return M({basename:t==null?void 0:t.basename,future:t==null?void 0:t.future,history:G({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||ae(),routes:e,detectErrorBoundary:H}).initialize()}function ae(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=y({},t,{errors:oe(t.errors)})),t}function oe(e){if(!e)return null;let t=Object.entries(e),r={};for(let[o,n]of t)if(n&&n.__type==="RouteErrorResponse")r[o]=new X(n.status,n.statusText,n.data,n.internal===!0);else if(n&&n.__type==="Error"){let i=new Error(n.message);i.stack="",r[o]=i}else r[o]=n;return r}const ie=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",le=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,se=f.forwardRef(function(t,r){let{onClick:o,relative:n,reloadDocument:i,replace:a,state:c,target:u,to:s,preventScrollReset:l}=t,d=F(t,te),{basename:R}=f.useContext(P),v,g=!1;if(typeof s=="string"&&le.test(s)&&(v=s,ie)){let m=new URL(window.location.href),b=s.startsWith("//")?new URL(m.protocol+s):new URL(s),C=Y(b.pathname,R);b.origin===m.origin&&C!=null?s=C+b.search+b.hash:g=!0}let w=I(s,{relative:n}),h=fe(s,{replace:a,state:c,target:u,preventScrollReset:l,relative:n});function p(m){o&&o(m),m.defaultPrevented||h(m)}return f.createElement("a",y({},d,{href:v||w,onClick:g||i?o:p,ref:r,target:u}))}),we=f.forwardRef(function(t,r){let{"aria-current":o="page",caseSensitive:n=!1,className:i="",end:a=!1,style:c,to:u,children:s}=t,l=F(t,re),d=U(u,{relative:l.relative}),R=N(),v=f.useContext(z),{navigator:g}=f.useContext(P),w=g.encodeLocation?g.encodeLocation(d).pathname:d.pathname,h=R.pathname,p=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(h=h.toLowerCase(),p=p?p.toLowerCase():null,w=w.toLowerCase());let m=h===w||!a&&h.startsWith(w)&&h.charAt(w.length)==="/",b=p!=null&&(p===w||!a&&p.startsWith(w)&&p.charAt(w.length)==="/"),C=m?o:void 0,S;typeof i=="function"?S=i({isActive:m,isPending:b}):S=[i,m?"active":null,b?"pending":null].filter(Boolean).join(" ");let B=typeof c=="function"?c({isActive:m,isPending:b}):c;return f.createElement(se,y({},l,{"aria-current":C,className:S,ref:r,style:B,to:u}),typeof s=="function"?s({isActive:m,isPending:b}):s)}),ve=f.forwardRef((e,t)=>f.createElement(ue,y({},e,{ref:t}))),ue=f.forwardRef((e,t)=>{let{reloadDocument:r,replace:o,method:n=E,action:i,onSubmit:a,fetcherKey:c,routeId:u,relative:s,preventScrollReset:l}=e,d=F(e,ne),R=O(c,u),v=n.toLowerCase()==="get"?"get":"post",g=_(i,{relative:s}),w=h=>{if(a&&a(h),h.defaultPrevented)return;h.preventDefault();let p=h.nativeEvent.submitter,m=(p==null?void 0:p.getAttribute("formmethod"))||n;R(p||h.currentTarget,{method:m,replace:o,relative:s,preventScrollReset:l})};return f.createElement("form",y({ref:t,method:v,action:g,onSubmit:r?a:w},d))});var D;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(D||(D={}));var T;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(T||(T={}));function ce(e){let t=f.useContext(K);return t||A(!1),t}function fe(e,t){let{target:r,replace:o,state:n,preventScrollReset:i,relative:a}=t===void 0?{}:t,c=j(),u=N(),s=U(e,{relative:a});return f.useCallback(l=>{if($(l,r)){l.preventDefault();let d=o!==void 0?o:k(u)===k(s);c(e,{replace:d,state:n,preventScrollReset:i,relative:a})}},[u,c,s,o,n,r,e,i,a])}function be(){return O()}function O(e,t){let{router:r}=ce(D.UseSubmitImpl),o=_();return f.useCallback(function(n,i){if(i===void 0&&(i={}),typeof document>"u")throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.");let{method:a,encType:c,formData:u,url:s}=ee(n,o,i),l=s.pathname+s.search,d={replace:i.replace,preventScrollReset:i.preventScrollReset,formData:u,formMethod:a,formEncType:c};e?(t==null&&A(!1),r.fetch(e,t,l,d)):r.navigate(l,d)},[o,r,e,t])}function _(e,t){let{relative:r}=t===void 0?{}:t,{basename:o}=f.useContext(P),n=f.useContext(W);n||A(!1);let[i]=n.matches.slice(-1),a=y({},U(e||".",{relative:r})),c=N();if(e==null&&(a.search=c.search,a.hash=c.hash,i.route.index)){let u=new URLSearchParams(a.search);u.delete("index"),a.search=u.toString()?"?"+u.toString():""}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),o!=="/"&&(a.pathname=a.pathname==="/"?o:q([o,a.pathname])),k(a)}export{ve as F,se as L,we as N,pe as c,be as u};
